<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title>Simple DrawSQL Grid</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      overflow: hidden;
    }

    canvas {
      background: rgb(240, 238, 238);
      display: block;
      position: absolute;
      top: 0;
      left: 0;
    }
  </style>
</head>

<body>
  <canvas id="canvas"></canvas>
  <script>
    // Constants
    const X = 400;
    const Y = 200;
    const GAP = 20;
    //
    const canvas = document.getElementById('canvas');
    canvas.width = X * GAP;
    canvas.height = Y * GAP;
    const ctx = canvas.getContext('2d');

    function drawDots() {
      for (let x = 1; x < X; x++) {
        for (let y = 1; y < Y; y++) {
          ctx.beginPath();
          ctx.arc(x * GAP, y * GAP, 1, 0, 2 * Math.PI);
          ctx.fill();
        }
      }
    }

    function drawTable({ x, y, w, h, bg }) {
      ctx.fillStyle = bg;
      ctx.fillRect(x * GAP, y * GAP, w * GAP, h * GAP);
    }

    function drawGrid() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      ctx.save();
      drawDots();
      const tables = [
        { x: 2, y: 3, w: 4, h: 4, bg: 'blue' },
        { x: 5, y: 6, w: 3, h: 3, bg: 'green' },
      ]
      tables.forEach(drawTable)
      ctx.restore();
    }

    drawGrid();

    function setPosition(left, top) {
      canvas.style.left = `${left}px`;
      canvas.style.top = `${top}px`;
    }

    let isDragging = false;
    let offsetX = 0, offsetY = 0;

    canvas.addEventListener('mousedown', (e) => {
      isDragging = true;
      offsetX = e.clientX - canvas.offsetLeft;
      offsetY = e.clientY - canvas.offsetTop;
    });

    window.addEventListener('mousemove', (e) => {
      if (isDragging) {
        setPosition(e.clientX - offsetX, e.clientY - offsetY);
      }
    });

    window.addEventListener('mouseup', () => {
      isDragging = false;
    });

  </script>
</body>

</html>